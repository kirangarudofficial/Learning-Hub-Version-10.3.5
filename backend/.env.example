# =============================================================================
# LEARNING PLATFORM - BACKEND ENVIRONMENT CONFIGURATION
# =============================================================================
# Copy this file to .env and update the values according to your setup
# NEVER commit the actual .env file to version control

# =============================================================================
# APPLICATION CONFIGURATION
# =============================================================================
NODE_ENV=development
API_GATEWAY_PORT=3000
API_GATEWAY_HOST=0.0.0.0

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# Replace with your PostgreSQL connection string
# Format: postgresql://username:password@host:port/database
DATABASE_URL="postgresql://postgres:YOUR_SECURE_PASSWORD@localhost:5432/learning_platform"
DATABASE_POOL_SIZE=20
DATABASE_TIMEOUT=30000

# =============================================================================
# JWT AUTHENTICATION
# =============================================================================
# Generate a secure 256-bit secret key using:
# node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_SECRET="REPLACE_WITH_64_CHARACTER_HEX_STRING"
JWT_EXPIRATION="24h"
JWT_REFRESH_EXPIRATION="7d"
JWT_ISSUER="learning-platform"
JWT_AUDIENCE="learning-platform-users"

# =============================================================================
# RATE LIMITING CONFIGURATION
# =============================================================================
THROTTLE_SHORT_LIMIT=10
THROTTLE_MEDIUM_LIMIT=20
THROTTLE_LONG_LIMIT=100

# =============================================================================
# FILE UPLOAD CONFIGURATION
# =============================================================================
MAX_FILE_SIZE=10485760
UPLOAD_DEST="./uploads"
ALLOWED_FILE_TYPES="jpg,jpeg,png,pdf,mp4,mov,avi,doc,docx,ppt,pptx"

# =============================================================================
# REDIS CONFIGURATION (Optional - for caching)
# =============================================================================
REDIS_URL="redis://localhost:6379"
REDIS_PASSWORD=""
REDIS_DB=0

# =============================================================================
# MESSAGE QUEUE CONFIGURATION
# =============================================================================
# Replace default credentials with secure ones
# Format: amqp://username:password@host:port
RABBITMQ_URL="amqp://YOUR_RABBITMQ_USER:YOUR_RABBITMQ_PASSWORD@localhost:5672"
RABBITMQ_USER="YOUR_RABBITMQ_USER"
RABBITMQ_PASS="YOUR_RABBITMQ_PASSWORD"

# =============================================================================
# EMAIL CONFIGURATION (Optional)
# =============================================================================
SMTP_HOST="smtp.gmail.com"
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER="your-email@gmail.com"
SMTP_PASS="your-app-password"

# =============================================================================
# PAYMENT INTEGRATION (Stripe)
# =============================================================================
# Get your keys from: https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY="sk_test_YOUR_STRIPE_SECRET_KEY"
STRIPE_WEBHOOK_SECRET="whsec_YOUR_WEBHOOK_SECRET"
STRIPE_PUBLISHABLE_KEY="pk_test_YOUR_PUBLISHABLE_KEY"

# =============================================================================
# AWS SERVICES (Optional)
# =============================================================================
AWS_ACCESS_KEY_ID="YOUR_AWS_ACCESS_KEY"
AWS_SECRET_ACCESS_KEY="YOUR_AWS_SECRET_KEY"
AWS_REGION="us-east-1"
AWS_S3_BUCKET="learning-platform-assets"

# =============================================================================
# MONITORING & LOGGING (Optional)
# =============================================================================
SENTRY_DSN="https://YOUR_SENTRY_DSN"
LOG_LEVEL="info"
ENABLE_METRICS=true

# =============================================================================
# CORS CONFIGURATION
# =============================================================================
FRONTEND_URL="http://localhost:5173"
# Comma-separated list of allowed origins
ALLOWED_ORIGINS="http://localhost:5173,http://localhost:3000"

# =============================================================================
# MICROSERVICES PORTS (for development)
# =============================================================================
USER_SERVICE_PORT=3001
AUTH_SERVICE_PORT=3002
COURSE_SERVICE_PORT=3003
ENROLLMENT_SERVICE_PORT=3004
PAYMENT_SERVICE_PORT=3005
MEDIA_SERVICE_PORT=3006
NOTIFICATION_SERVICE_PORT=3007
PROGRESS_SERVICE_PORT=3008
CONTENT_SERVICE_PORT=3009
