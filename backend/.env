# =============================================================================
# LEARNING PLATFORM - BACKEND ENVIRONMENT CONFIGURATION
# =============================================================================
# Copy this file to .env and update the values according to your setup

# =============================================================================
# APPLICATION CONFIGURATION
# =============================================================================
NODE_ENV=development
API_GATEWAY_PORT=3000
API_GATEWAY_HOST=0.0.0.0

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# Replace with your PostgreSQL connection string
DATABASE_URL="postgresql://postgres:password@localhost:5432/learning_platform"
DATABASE_POOL_SIZE=20
DATABASE_TIMEOUT=30000

# =============================================================================
# JWT AUTHENTICATION
# =============================================================================
# SECURITY: Generate a secure 256-bit secret key using:
# node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_SECRET="CHANGE_THIS_TO_SECURE_RANDOM_64_CHAR_HEX_STRING_IN_PRODUCTION"
JWT_EXPIRATION="24h"
JWT_REFRESH_EXPIRATION="7d"
JWT_ISSUER="learning-platform"
JWT_AUDIENCE="learning-platform-users"

# =============================================================================
# RATE LIMITING CONFIGURATION
# =============================================================================
THROTTLE_SHORT_LIMIT=10
THROTTLE_MEDIUM_LIMIT=20
THROTTLE_LONG_LIMIT=100

# =============================================================================
# FILE UPLOAD CONFIGURATION
# =============================================================================
MAX_FILE_SIZE=10485760
UPLOAD_DEST="./uploads"
ALLOWED_FILE_TYPES="jpg,jpeg,png,pdf,mp4,mov,avi,doc,docx,ppt,pptx"

# =============================================================================
# REDIS CONFIGURATION (Optional - for caching)
# =============================================================================
REDIS_URL="redis://localhost:6379"
REDIS_PASSWORD=""
REDIS_DB=0

# =============================================================================
# MESSAGE QUEUE CONFIGURATION (Optional - for microservices)
# =============================================================================
# SECURITY: Replace with secure credentials in production
RABBITMQ_URL="amqp://admin:SecurePassword123!@localhost:5672"
RABBITMQ_USER="admin"
RABBITMQ_PASS="SecurePassword123!"

# =============================================================================
# EMAIL CONFIGURATION (Optional)
# =============================================================================
SMTP_HOST="smtp.gmail.com"
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER="your-email@gmail.com"
SMTP_PASS="your-app-password"

# =============================================================================
# PAYMENT INTEGRATION (Optional)
# =============================================================================
STRIPE_SECRET_KEY="sk_test_51234567890abcdef_test_key_placeholder"
STRIPE_WEBHOOK_SECRET="whsec_test_webhook_secret_placeholder"
STRIPE_PUBLISHABLE_KEY="pk_test_..."

# =============================================================================
# AWS SERVICES (Optional)
# =============================================================================
AWS_ACCESS_KEY_ID=""
AWS_SECRET_ACCESS_KEY=""
AWS_REGION="us-east-1"
AWS_S3_BUCKET="learning-platform-assets"

# =============================================================================
# MONITORING & LOGGING (Optional)
# =============================================================================
SENTRY_DSN=""
LOG_LEVEL="info"
ENABLE_METRICS=true

# =============================================================================
# CORS CONFIGURATION
# =============================================================================
FRONTEND_URL="http://localhost:5173"
ALLOWED_ORIGINS="http://localhost:5173,http://localhost:3000"

# =============================================================================
# MICROSERVICES PORTS (for development)
# =============================================================================
USER_SERVICE_PORT=3001
AUTH_SERVICE_PORT=3002
COURSE_SERVICE_PORT=3003
ENROLLMENT_SERVICE_PORT=3004
PAYMENT_SERVICE_PORT=3005
MEDIA_SERVICE_PORT=3006
NOTIFICATION_SERVICE_PORT=3007
PROGRESS_SERVICE_PORT=3008
CONTENT_SERVICE_PORT=3009